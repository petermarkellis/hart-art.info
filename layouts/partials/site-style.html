{{/* Include Tachyons CSS for utility classes */}}
<link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css">

{{/* Include Google Fonts - Inter */}}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

{{/* Custom CSS can be added via site params if needed */}}
{{ range site.Params.custom_css }}
  <link rel="stylesheet" href="{{ urls.RelURL (.) }}">
{{ end }}

{{/* Custom text selection styles - black background with white text */}}
<style>
  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
    /* Prevent double-tap zoom on mobile */
    touch-action: manipulation;
    -ms-touch-action: manipulation;
  }
  
  body {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
    position: relative;
    /* Prevent double-tap zoom on mobile */
    touch-action: manipulation;
    -ms-touch-action: manipulation;
    /* Smooth scroll behavior */
    scroll-behavior: smooth;
  }
  
  /* Smooth scroll for anchor links */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
    
    * {
      scroll-behavior: inherit;
    }
  }
  
  /* Prevent horizontal overflow on all containers */
  * {
    box-sizing: border-box;
  }
  
  /* Ensure main content doesn't overflow */
  main {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
  }
  
  /* Exception for about and series pages to allow sticky positioning - use more specific selector */
  body main:has(.about-page-container),
  body main .about-page-container,
  body main:has(.series-layout-wrapper),
  body main .series-layout-wrapper {
    overflow: visible !important;
    overflow-x: visible !important;
    overflow-y: visible !important;
  }
  
  /* Gallery grid styles - reusable class instead of inline styles */
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2rem 3rem;
    margin-bottom: 4rem;
    max-width: 100%;
    overflow-x: hidden;
  }
  
  /* Gallery image styles */
  .gallery-image-clickable {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Responsive gallery grid adjustments */
  @media (max-width: 60em) {
    .gallery-grid {
      grid-template-columns: 1fr !important;
      gap: 2rem 1rem !important;
    }
  }
  
  @media (max-width: 30em) {
    .gallery-grid {
      gap: 1.5rem 0.5rem !important;
    }
    
    .gallery-item {
      max-width: 100%;
      overflow: hidden;
    }
    
    .gallery-item img {
      max-width: 100% !important;
      width: 100% !important;
      height: auto !important;
    }
  }
  
  ::selection {
    background-color: #000;
    color: #fff;
  }
  ::-moz-selection {
    background-color: #000;
    color: #fff;
  }
  
  /* Override main overflow for series pages to allow sticky - use multiple selectors for better browser support */
  body main[role="main"]:has(.series-layout-wrapper),
  body main[role="main"] .series-layout-wrapper {
    overflow: visible !important;
    overflow-x: visible !important;
    overflow-y: visible !important;
  }
  
  /* Fallback for browsers without :has() support */
  @supports not selector(:has(*)) {
    body main[role="main"] {
      overflow: visible !important;
      overflow-x: visible !important;
      overflow-y: visible !important;
    }
  }
  
  /* Ensure aside navigation extends to full height and is sticky */
  @media (min-width: 60em) {
    .series-layout-wrapper {
      display: flex !important;
      align-items: flex-start !important;
      min-height: 100vh;
      overflow: visible !important;
    }
    
    .aside-full-height {
      position: -webkit-sticky !important;
      position: sticky !important;
      top: 0 !important;
      align-self: flex-start !important;
      max-height: 100vh !important;
      overflow-y: auto !important;
      height: fit-content !important;
    }
  }
  
  /* Increase all text by 1 level on mobile only */
  @media (max-width: 60em) {
    /* Override Tachyons font sizes for mobile - increase by one level */
    /* Tachyons sizes: f1=3rem, f2=2.25rem, f3=1.875rem, f4=1.5rem, f5=1.25rem, f6=1rem, f7=0.875rem */
    .f7 { font-size: 1rem !important; } /* f7 (0.875rem) -> f6 (1rem) */
    .f6 { font-size: 1.25rem !important; } /* f6 (1rem) -> f5 (1.25rem) */
    .f5 { font-size: 1.5rem !important; } /* f5 (1.25rem) -> f4 (1.5rem) */
    .f4 { font-size: 1.875rem !important; } /* f4 (1.5rem) -> f3 (1.875rem) */
    .f3 { font-size: 2.25rem !important; } /* f3 (1.875rem) -> f2 (2.25rem) */
    .f2 { font-size: 3rem !important; } /* f2 (2.25rem) -> f1 (3rem) */
    .f1 { font-size: 3.5rem !important; } /* f1 (3rem) -> slightly larger */
  }
</style>

