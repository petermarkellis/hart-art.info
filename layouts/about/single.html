{{ define "header" }}
  <!-- About page - white background, no large header -->
  <header class="bg-white">
    {{ partial "site-navigation.html" . }}
  </header>
{{ end }}

{{ define "main" }}
{{ $aboutPage := .Page }}

<div class="flex flex-column flex-row-l bg-white" style="min-height: 100vh; height: 100%; width: 100%;">
  <!-- Left Column - Portrait and Contact Info -->
  <aside class="w-100 w-40-l pa3 pa4-l bg-white" style="border-right: 1px solid #e5e5e5; min-height: 100vh; position: sticky; top: 0; align-self: flex-start;">
    {{ if $aboutPage.Params.image }}
      <div class="mb4">
        <img src="{{ $aboutPage.Params.image }}" alt="{{ $aboutPage.Title }}" class="w-100" style="max-width: 100%; height: auto; display: block;" />
      </div>
    {{ end }}

    <div class="f6 f5-ns lh-copy black-80 mb4" style="font-family: 'Inter', sans-serif;">
      {{/* Support both nested contact_info object and flat structure for backward compatibility */}}
      {{ $contactInfo := $aboutPage.Params.contact_info }}
      {{ $email := "" }}
      {{ $addressLine1 := "" }}
      {{ $addressLine2 := "" }}
      {{ $addressLine3 := "" }}
      {{ $contactButtonText := "" }}
      {{ $copyrightText := "" }}
      
      {{ if $contactInfo }}
        {{ $email = $contactInfo.email }}
        {{ $addressLine1 = $contactInfo.address_line1 }}
        {{ $addressLine2 = $contactInfo.address_line2 }}
        {{ $addressLine3 = $contactInfo.address_line3 }}
        {{ $contactButtonText = $contactInfo.contact_button_text }}
        {{ $copyrightText = $contactInfo.copyright_text }}
      {{ else }}
        {{ $email = $aboutPage.Params.email }}
        {{ $addressLine1 = $aboutPage.Params.address_line1 }}
        {{ $addressLine2 = $aboutPage.Params.address_line2 }}
        {{ $addressLine3 = $aboutPage.Params.address_line3 }}
        {{ $contactButtonText = $aboutPage.Params.contact_button_text }}
        {{ $copyrightText = $aboutPage.Params.copyright_text }}
      {{ end }}
      
      {{ with $addressLine1 }}<p class="mb0">{{ . }}</p>{{ end }}
      {{ with $addressLine2 }}<p class="mb0">{{ . }}</p>{{ end }}
      {{ with $addressLine3 }}<p class="mb0">{{ . }}</p>{{ end }}
      <p class="mt3 mb0">
        {{ if $copyrightText }}
          {{ $copyrightText }}
        {{ else }}
          Â© {{ now.Format "2006" }} Mark Hartzheim
        {{ end }}
      </p>
    </div>

    {{ if $email }}
      <a href="mailto:{{ $email }}" class="dib bg-black white pa3 pa4-ns no-underline hover-bg-black-80 nav-link" style="font-family: 'Inter', sans-serif; letter-spacing: 0.05em; transition: background-color 0.2s;">
        {{ $contactButtonText | default "CONTACT THE ARTIST" }}
      </a>
    {{ end }}
  </aside>

  <!-- Right Column - About Content -->
  <main class="w-100 w-60-l pa3 pa4-l bg-white pb6" style="flex: 1;">
    <h1 class="f4 f3-ns fw6 mb4 black-90" style="font-family: 'Inter', sans-serif; letter-spacing: 0.05em;">
      {{ $aboutPage.Title }}
    </h1>

    {{ if $aboutPage.Content }}
      <div class="f6 f5-ns lh-copy black-80" style="font-family: 'Inter', sans-serif; max-width: 800px;">
        {{ $aboutPage.Content }}
      </div>
    {{ end }}
  </main>
</div>

<style>
  /* Responsive layout for about page */
  @media (max-width: 60em) {
    aside {
      border-right: none !important;
      border-bottom: 1px solid #e5e5e5;
      min-height: auto !important;
      position: relative !important;
      align-self: stretch !important;
    }
  }
</style>
{{ end }}

